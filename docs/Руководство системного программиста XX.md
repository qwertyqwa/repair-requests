# Руководство системному программисту XX

## 1. Общие сведения

Наименование: программный модуль учета заявок на ремонт бытовой техники.  
Технологии: Python + Flask, база данных SQLite.

## 2. Назначение

Модуль предназначен для регистрации и обработки заявок на ремонт, назначения мастеров, контроля статусов и формирования статистики.

## 3. Условия эксплуатации

- ОС: Windows 10/11.
- Python: 3.12+.
- Доступ к файловой системе для хранения БД (`data/app.db`).

## 4. Состав поставки

- Сервер: пакет `repair_requests/`
- Схема БД: `repair_requests/schema.sql`
- Документация: `docs/`
- Тесты: `tests/`
- Скрипты: `scripts/`

## 5. Подготовка к работе (установка)

### 5.1. Установка зависимостей Python

```bash
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

### 5.2. Запуск

```bash
python -m repair_requests
```

База данных создаётся автоматически при первом запуске.

## 6. Настройка

Файл `repair_requests/config.py`:

- `DATABASE_PATH` — путь к файлу SQLite БД
- `QUALITY_FORM_URL` — ссылка на Google Form (QR‑код)

## 7. Пользователи и роли

По умолчанию:

- `admin/admin` — администратор
- `operator/operator` — оператор
- `master/master` — мастер
- `manager/manager` — менеджер по качеству

Администратор управляет пользователями через страницу **Пользователи**.

## 8. Резервное копирование

```bash
python scripts/backup_db.py --db data/app.db --out backups --sql
```

## 9. Восстановление

Для восстановления заменить `data/app.db` на файл резервной копии.

## 10. Типовые ошибки

- Ошибка зависимостей: выполнить `pip install -r requirements.txt`
- Ошибка доступа: проверить роль пользователя и активность учетной записи
- Повреждение БД: восстановить из резервной копии

